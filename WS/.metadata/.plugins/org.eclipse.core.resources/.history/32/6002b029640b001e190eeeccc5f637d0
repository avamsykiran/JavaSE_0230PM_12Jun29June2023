package com.cts.multithreadingdemo.thread;

import com.cts.multithreadingdemo.service.BusReservationService;
import com.cts.multithreadingdemo.service.BusReservationServiceImpl;

public class BusReservationRunnable implements Runnable {

	private Bus bus;
	private int seatsNeeded;
	private int seatsReserved[];
	
	private BusReservationService busService;
	
	public BusReservationRunnable(Bus bus, int seatsNeeded) {
		super();
		this.bus = bus;
		this.seatsNeeded = seatsNeeded;
		this.seatsReserved = new int[seatsNeeded];
		this.busService=new BusReservationServiceImpl(null);
	}

	@Override
	public void run() {
		Thread thread = Thread.currentThread();
		String threadName = thread.getName();
		
		for(int i=o;i<seatsNeeded;i++) {
			if(busService.isASeatAvailable()) {
				seatsReserved[i] = busService.reserveASeat();
				try {
					thread.sleep(500);
				}catch(InterruptedException exp) {
					exp.printStackTrace();
				}
			}
		}
	}
	
	
}
